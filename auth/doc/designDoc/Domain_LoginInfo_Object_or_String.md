# タイトル
## 変更履歴
| 日付 | 変更内容 |
| ---- | ---- |
| 2024/6/4 | 初版 |
| 2024/6/5 | 選択肢2について、変更箇所の限定に関する記述を追加 |
## 概要
ログインエンドポイントの実装において、ドメイン層にリクエストの情報を渡す際、オブジェクトにするかStringをそのまま渡すかについて思考した。

## 思考の背景
ログイン情報をドメイン層へ渡す際、どのように渡すのが適切かを思考。  
依存性逆転の原則を実現するということが前提。  
将来ログイン形式が変更になる可能性を否定できない中、バグを埋め込む可能性をできるだけ減らせる設計を目指したい。


## 選択肢と選択理由
1. ユーザＩＤとパスワードを文字列(String)で渡す 【×】  
一番簡単かつ思いつきやすい方式。   
デメリットとして、型的に変数名と実際の引数の概念がずれていたとしても、コンパイルできてしまう。  

1. ログイン情報エンティティをドメイン層に定義し、そのエンティティを渡す 【○】  
認証メソッドの本質は認証情報を受け取って、結果を返すというもの。  
ログイン方式が変わったとしてもその本質は変わらないはず。  
となると、エンティティとしてのログイン情報を受け渡す形にする方が、現実世界を再現した実装になっているのではないか  
型によるバグ防止は上記と変わらなず、そのままでは実現不能  
Nullチェックなど何かメリットがあるかもしれない  
[2024/6/5追記]  
「ログイン方式の変更」というニーズに対して、変更箇所はログイン情報オブジェクトに閉じることができる。  

## 学び
リクエストで送信されたデータをドメイン層で受ける方法について、エンティティに詰め替える方がよいのか、プリミティブ等でそのまま送る方がいいのか、検討を続けたい。  
今回の例では、「ログイン情報」という概念がエンティティに相当するが、ユーザIDをリクエストしてユーザ情報を得るなどの単一項目の場合にどうするかなど、いくつかのパターンでそれぞれのメリットデメリットを考察していきたい。  